# Example Unity Assets Specification
# This demonstrates all supported asset types

project: example-rpg
unityProject: ~/Unity/ExampleRPG  # Optional: path to Unity project
outputDir: Assets/Generated
defaultNamespace: ExampleRPG

assets:
  # ============================================
  # C# SCRIPTS
  # ============================================

  # Basic MonoBehaviour with serialized fields
  - type: script
    name: PlayerController
    description: "Third-person character controller with movement and jumping"
    namespace: ExampleRPG.Characters
    fields:
      - name: moveSpeed
        type: float
        default: 5.0
        header: "Movement"
        tooltip: "Walking speed in units per second"
      - name: runSpeed
        type: float
        default: 10.0
      - name: jumpForce
        type: float
        default: 8.0
        range: [0, 20]
        header: "Jumping"
      - name: groundCheck
        type: Transform
      - name: groundLayers
        type: LayerMask
      - name: isGrounded
        type: bool

  # Script with enum field
  - type: script
    name: EnemyAI
    description: "Basic enemy AI with states"
    namespace: ExampleRPG.AI
    fields:
      - name: state
        type: enum
        values: [Idle, Patrol, Chase, Attack, Dead]
        default: Idle
      - name: detectionRange
        type: float
        default: 10.0
      - name: attackRange
        type: float
        default: 2.0
      - name: patrolPoints
        type: Transform[]
      - name: currentTarget
        type: GameObject

  # Static utility class
  - type: script
    name: GameUtils
    scriptType: static
    description: "Common game utility functions"
    namespace: ExampleRPG.Utils
    usings:
      - UnityEngine
      - System.Collections.Generic
    methods:
      - |
        public static float GetDistance2D(Vector3 a, Vector3 b)
        {
            return Vector2.Distance(new Vector2(a.x, a.z), new Vector2(b.x, b.z));
        }
      - |
        public static T GetRandom<T>(List<T> list)
        {
            if (list == null || list.Count == 0) return default;
            return list[Random.Range(0, list.Count)];
        }

  # Interface
  - type: script
    name: IDamageable
    scriptType: interface
    namespace: ExampleRPG.Combat
    methods:
      - "void TakeDamage(float amount);"
      - "void Heal(float amount);"
      - "bool IsDead { get; }"

  # ============================================
  # SCRIPTABLE OBJECTS
  # ============================================

  # Weapon data container
  - type: scriptable-object
    name: WeaponData
    description: "Container for weapon stats and properties"
    menuPath: "Game/Weapons/Weapon Data"
    fields:
      - name: weaponName
        type: string
        header: "Basic Info"
      - name: description
        type: string
      - name: icon
        type: Sprite
        space: true
      - name: damage
        type: int
        default: 10
        header: "Combat Stats"
      - name: attackSpeed
        type: float
        default: 1.0
        range: [0.1, 5.0]
      - name: critChance
        type: float
        default: 0.05
        range: [0, 1]
      - name: element
        type: enum
        values: [Physical, Fire, Ice, Lightning, Poison]
        default: Physical
      - name: attackSound
        type: AudioClip
        header: "Audio"
      - name: hitSound
        type: AudioClip

  # Character stats
  - type: scriptable-object
    name: CharacterStats
    description: "Base stats for characters"
    menuPath: "Game/Characters/Character Stats"
    fields:
      - name: maxHealth
        type: int
        default: 100
        header: "Health"
      - name: healthRegen
        type: float
        default: 1.0
      - name: maxMana
        type: int
        default: 50
        header: "Mana"
      - name: manaRegen
        type: float
        default: 2.0
      - name: strength
        type: int
        default: 10
        header: "Attributes"
      - name: agility
        type: int
        default: 10
      - name: intelligence
        type: int
        default: 10
      - name: moveSpeedBonus
        type: float
        default: 0
        header: "Bonuses"
        range: [-0.5, 1.0]

  # ============================================
  # SCRIPTABLE OBJECT INSTANCES
  # ============================================

  - type: scriptable-instance
    name: IronSword
    scriptableType: WeaponData
    values:
      weaponName: "Iron Sword"
      description: "A sturdy iron sword. Reliable but unexceptional."
      damage: 15
      attackSpeed: 1.2
      critChance: 0.05
      element: Physical

  - type: scriptable-instance
    name: FlameBlade
    scriptableType: WeaponData
    values:
      weaponName: "Flame Blade"
      description: "A magical blade wreathed in eternal fire."
      damage: 25
      attackSpeed: 1.0
      critChance: 0.1
      element: Fire

  # ============================================
  # MATERIALS
  # ============================================

  # Standard lit material
  - type: material
    name: StoneFloor
    shader: Universal Render Pipeline/Lit
    properties:
      _BaseColor: [0.5, 0.5, 0.5, 1.0]
      _Metallic: 0.0
      _Smoothness: 0.3

  # Emissive crystal material
  - type: material
    name: BlueCrystal
    shader: Universal Render Pipeline/Lit
    properties:
      _BaseColor: [0.2, 0.4, 0.8, 1.0]
      _EmissionColor: [0.3, 0.6, 1.2, 1.0]
      _Smoothness: 0.95
    keywords:
      - _EMISSION

  # Transparent material
  - type: material
    name: GhostMaterial
    shader: Universal Render Pipeline/Lit
    properties:
      _BaseColor: [0.8, 0.8, 1.0, 0.3]
      _Surface: 1  # Transparent
    renderQueue: 3000

  # ============================================
  # SHADERS
  # ============================================

  # Custom toon shader
  - type: shader
    name: ToonLit
    description: "Simple toon/cel shader"
    pipeline: urp
    properties:
      - name: baseColor
        type: color
        default: [1, 1, 1, 1]
      - name: shadowColor
        type: color
        default: [0.3, 0.3, 0.4, 1]
      - name: shadowThreshold
        type: range
        range: [0, 1]
        default: 0.5
      - name: mainTex
        type: 2d

  # Dissolve effect shader
  - type: shader
    name: DissolveEffect
    pipeline: urp
    properties:
      - name: baseColor
        type: color
        default: [1, 1, 1, 1]
      - name: dissolveAmount
        type: range
        range: [0, 1]
        default: 0
      - name: edgeColor
        type: color
        default: [1, 0.5, 0, 1]
      - name: edgeWidth
        type: range
        range: [0, 0.2]
        default: 0.05
      - name: noiseTexture
        type: 2d

  # ============================================
  # PREFABS
  # ============================================

  # Collectible pickup
  - type: prefab
    name: HealthPickup
    description: "Health pickup that restores player HP"
    components:
      - type: SphereCollider
        properties:
          isTrigger: true
          radius: 0.5
      - type: AudioSource
        properties:
          playOnAwake: false
          spatialBlend: 1.0

  # Trigger zone
  - type: prefab
    name: DangerZone
    description: "Area that damages players over time"
    components:
      - type: BoxCollider
        properties:
          isTrigger: true
          size: [5, 2, 5]
      - type: AudioSource
        properties:
          loop: true
          spatialBlend: 1.0
          volume: 0.5

  # Simple prop
  - type: prefab
    name: Barrel
    description: "Destructible barrel prop"
    components:
      - type: MeshFilter
      - type: MeshRenderer
      - type: CapsuleCollider
        properties:
          radius: 0.5
          height: 1.5
      - type: Rigidbody
        properties:
          mass: 20
          drag: 0.5
